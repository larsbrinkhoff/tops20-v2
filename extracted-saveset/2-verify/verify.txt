VERIFY.MEM		USER DOCUMENTATION FOR THE TOPS-20
			SYSTEM PROGRAM VERIFICATION PACKAGE.




Copyright 1976, Digital Equipment Corp., Maynard, Mass.










The information  in  this  document  is  subject  to  change
without  notice  and should not be construed as a commitment
by  Digital  Equipment   Corporation.    Digital   Equipment
Corporation  assumes  no  responsibility for any errors that
may appear in this manual.

The software described in this document is furnished to  the
purchaser  under  a  license  for  use  on a single computer
system and  can  be  copied  (with  inclusion  of  DIGITAL's
copyright notice) only for use in such system, except as may
otherwise be provided in writing by DIGITAL.

Digital Equipment Corporation assumes no responsibility  for
the  use or reliability of its software on equipment that is
not supplied by DIGITAL.





Copyright  (C)  1976  by  Digital   Equipment
Corporation



The following are trademarks of Digital Equipment
    Corporation:
.LITERAL

    CDP            DIGITAL         INDAC            PS/8

    COMPUTER LAB   DNC             KA10             QUICKPOINT

    COMSYST        EDGRIN          LAB-8            RAD-8

    COMTEX         EDUSYSTEM       LAB-8/e          RSTS

    DDT            FLIP CHIP       LAB-K            RSX

    DEC            FOCAL           OMNIBUS          RTM

    DECCOMM        GLC-8           OS/8             RT-11

    DECTAPE        IDAC            PDP              SABR

    DIBOL          IDACS           PHA              TYPESET 8

.END LITERAL


	TOPS 20 SYSTEM PROGRAM VERIFICATION PROCEDURE

			5/11/76


			TABLE OF CONTENTS

		I.  DESCRIPTION.

		II.  GENERAL STRATEGY.

		III.  OPERATING INSTRUCTIONS.

		IV.  SPECIAL COMMENTS.

		V.  PACKAGING OF THE VERIFICATION PROCEDURE.

	APPENDICES

		A.  ALPHABETIC LISTING OF FILES COMPRISING THE
		    TOPS-20 VERIFICATION PROCEDURE.

		B.  SAMPLE BATCH COMMANDS FOR VERIFICATION OF A
		    SOFTWARE MODULE.

		C.  LIST OF SOFTWARE MODULES WHICH ARE 
		   VERIFIED.

		D.  SAMPLE LISTING OF ERRORS.LOG.



I.	DESCRIPTION.

THE VERIFICATION PROCEDURE PROVIDES AN AUTOMATIC METHOD FOR
DETERMINING, AFTER MOST OF THE TOPS-20 INSTALLATION PROCEDURES
HAVE BEEN EXECUTED SUCCESSFULLY, THAT THE CUSTOMER HAS RECEIVED
ALL OF THE SOFTWARE HE HAS ORDERED.

IT CONSISTS OF A SET OF BATCH CONTROL FILES, SOURCE FILES,
TEXT AND DATA FILES, AND AN ".EXE" FILE.  THESE FILES,
TOGETHER WITH A BRIEF DESCRIPTION OF EACH, ARE LISTED IN 
APPENDIX A.

IN GENERAL, FOR EACH SOFTWARE PRODUCT OR COMPONENT, THE PACKAGE
ATTEMPTS TO VERIFY EACH SOFTWARE MODULE WHICH 
THE CUSTOMER SHOULD HAVE RECEIVED.

"VERIFICATION" CONSISTS OF AS MANY OF THE FOLLOWING STEPS
AS ARE APPROPRIATE FOR THE GIVEN MODULE:

	A.	VERIFICATION OF THE EXISTENCE OF THE FILE
		WHICH REPRESENTS THE SOFTWARE MODULE.

	B.	PRINTOUT IN THE BATCH LOG FILE OF THE 
		VERSION INFORMATION.  THIS INFORMATION WILL 
		BE EXTRACTED FROM THE LOG FILE LATER ON, AND WILL
		BE COMPARED WITH THE DATA IN A MASTER FILE (CONTRL.TXT)
		TO PROVIDE A REPORT ON THE CORRECTNESS OF VERSION
		NUMBERS OF ALL EXECUTABLE FILES WHICH ARE PART OF
		THE BUNDLED SOFTWARE PACKAGE (DEC PRODUCT NUMBER QT010).

	C.	AN ATTEMPT TO RUN THE MODULE AND GIVE IT ONE
		OR MORE COMMANDS TO EXECUTE A SIMPLE FUNCTION.

	D.	VERIFICATION OF THE EXISTENCE OF A HELP FILE
		FOR THE MODULE, IF A HELP FILE IS SUPPOSED TO BE 
		PRESENT.

	
NOTE THAT THIS PACKAGE IS NOT IN ANY WAY INTENDED TO BE AN EXHAUSTIVE
TEST OF ANY SOFTWARE PRODUCT.




II.	GENERAL STRATEGY.


1.	OVERALL FLOW OF BATCH CONTROL.

THE OPERATOR SUBMITS THE BATCH JOB VERIFY.BAT FROM A USER AREA
IN WHICH WHEEL PRIVILEGES ARE ALLOWED.  (WHEEL PRIVILEGES ARE USED
ONLY ONCE IN THE ENTIRE PACKAGE).  THIS JOB FIRST 
PERFORMS VERIFICATION OF ALL SOFTWARE AND
DELIVERABLE FILES COMMON TO ALL CUSTOMER INSTALLATIONS (BUNDLED
SOFTWARE).  THE JOB THEN TESTS FOR THE EXISTENCE OF CERTAIN FILES
WHICH THE 
INSTALLER HAS (OPTIONALLY) CREATED, EACH CORRESPONDING TO ONE
OF THE VARIOUS
UNBUNDLED SOFTWARE PRODUCTS: FORTRAN, COBOL, SORT, OR BASIC.

FOR EACH FILE WHICH EXISTS, A CORRESPONDING BATCH JOB IS SUBMITTED
BY VERIFY.BAT TO VERIFY ONE OF THE UNBUNDLED SOFTWARE PRODUCTS. 

AS NEW UNBUNDLED PRODUCTS ARE ADDED TO THE LIST OF OPTIONS, THEY WILL
BE ADDED TO THE VERIFICATION PACAGE IN THE SAME WAY.


2.	ERROR DETECTION AND REPORTING.

THE SAME ERROR REPORTING PROCEDURE IS USED IN EACH OF THE BATCH 
JOBS:  ANY ERROR CONDITION DETECTED BY THE BATCH JOB ITSELF RESULTS
IN THE WRITING OF A MESSAGE INTO THE FILE "ERRORS.LOG".  EACH SUCH
MESSAGE IDENTIFIES THE CONTROL FILE FROM WHICH IT CAME AND, IN
THE CASE OF VERIFY.BAT ITSELF, THE PARTICULAR TEST WHICH WAS BEING
PERFORMED.  USUALLY, IF POSSIBLE, SOME ADDITIONAL INFORMATION
REGARDING THE CONDITIONS OF THE ERROR ALSO APPEAR IN THE MESSAGE.

"ERRORS.LOG" IS CREATED BY THE PROGRAM WRTERR WHICH IS RUN AT THE
BEGINNING OF VERIFY.BAT;  ALL MESSAGES ARE APPENDED TO THIS FILE LATER
ON, AND THE JOB VERIF1.BAT CAUSES "ERRORS.LOG" TO BE PRINTED.
TO GUARANTEE THAT NO SIMULTANEOUS WRITES ARE ATTEMPTED INTO THIS
FILE, IT IS ESSENTIAL THAT THE
JOB VERIFY.BAT BE SUBMITTED WITH THE "UNIQUE" SWITCH SET TO 1
(THIS IS THE DEFAULT VALUE), AND THAT ANY VERIFICATION JOBS
SUBMITTED BY VERIFY.BAT, INCLUDING VERIF1.BAT, ALSO BE SUBMITTED
WITH "UNIQUE" = 1.  IN ADDITION, APPROPRIATE 
DEPENDENCY COUNT SETTINGS MUST BE
MADE SO THAT VERIF1.BAT RUNS AFTER ALL OTHER JOBS HAVE RUN.




3.	TERMINATION AND USER ANALYSIS OF RESULTS.

A.	THE JOB IS COMPLETE WHEN ALL BATCH CONTROL 
FILES WHICH GET SUBMITTED HAVE RUN TO COMPLETION AND 
WHEN ERRORS.LOG HAS BEEN OUTPUT TO THE PRINTER.

B.	THE FILE "ERRORS.LOG" SHOULD BE INSPECTED IMMEDIATELY,
SINCE ALL DETECTABLE ERRORS WILL BE REPORTED THERE.  THERE WILL
ALWAYS BE TWO MESSAGES IN THIS FILE WHICH ARE NOT ERROR MESSAGES.

ONE OF THESE MESSAGES DISPLAYS THE RESULTS OF RUNNING FILCOM ON TWO
SUPPOSEDLY EQUAL FILES (THERE IS NO OTHER WAY TO REPORT THE
RESULTS OF THE FILCOM RUN).  THE OTHER IS A LONG MESSAGE
CONTAINING A COMPARISON OF VERSION NUMBERS FOR ALL THE FILES
REPRESENTING EXECUTABLE PROGRAMS.

C.	THE FILCOM MESSAGE IDENTIFIES ITSELF AND THEN DISPLAYS 
THE OUTPUT FILE OF THE FILCOM RUN ITSELF, FOLLOWED BY 
SOME ADDITIONAL SELF-IDENTIFYING
MESSAGE LINES.  SINCE ONE OF THE FILES BEING COMPARED IS
A COPY OF THE OTHER, FILCOM SHOULD FIND NO DIFFERENCES, AND
THERE SHOULD BE NO OUTPUT.  THUS A NORMAL RESULT OF THIS PARTICULAR
TEST SHOULD APPEAR AS FOLLOWS:

.LITERAL
++++	CONTROL FILE VERIFY.BAT			++++
++++	(THIS MESSAGE WILL ALWAYS		++++
++++	APPEAR IN ERRORS.LOG)			++++
++++	TEST OF FILCOM.  ANY DISCREPANCIES	++++
++++	BETWEEN TWO SUPPOSEDLY EQUAL FILES	++++
++++	WILL BE SANDWICHED BETWEEN TWO LINES	++++
++++	BELOW:					++++
++++	THIS LINE PRECEEDS ANY DISCREPANCIES	++++
++++	THIS LINE FOLLOWS ANY DISCREPANCIES	++++
++++	END OF FILCOM TEST IN VERIFY.BAT	++++
.END LITERAL

SEE ALSO SECTION IV.5.

D.	THE SECOND MESSAGE WHICH ALWAYS APPEARS IS LABLED:

 ++++	SEARCH.FOR MESSAGE			++++
 ++++	COMPARISON OF VERSION NUMBERS		++++
 ++++						++++
 PROGRAM NAME    SHOULD BE       VERSION IS



THIS LABEL IS FOLLOWED BY 40 OR MORE LINES INFORMATION OF 
WHICH THE FOLLOWING ARE EXAMPLES:

.LITERAL
 
 MONITR          1(356)          1(356)          CHECK OK            
 DUMP                                            CHECK OK            
 EDIT            1A(26)          1A(25)          VER. NO. MISMATCH   
 SURPRIZE        7(0)                            PROGRAM MISSING     
 UNEXPECTED1                                     UNEXPECTED FILE     
.END LITERAL


EACH LINE CONTAINS A PROGRAM NAME, THE EXPECTED VERSION NUMBER
OF THAT PROGRAM, THE ACTUAL OBSERVED VERSION NUMBER AT THE 
TIME OF THE RUNNING OF THE VERIFICATION PROCEDURE, AND A COMMENT.

THE COMMENTS AND THEIR INTERPRETATION IS AS FOLLOWS:

CHECK OK		THE EXPECTED PROGRAM EXISTS ON THE CURRENT
			SYSTEM AND THE VERSION NUMBER IS AS EXPECTED
			(CERTAIN PROGRAMS HAVE A BLANK VERSION NUMBER;
			THUS AN EXPECTED BLANK COMPARED TO AN ACTUAL
			BLANK WILL BE FLAGGED "CHECK OK").

VER. NO. MISMATCH	THE EXPECTED PROGRAM EXISTS BUT ITS VERSION
			NUMBER WAS NOT THE ONE WHICH WAS EXPECTED.

PROGRAM MISSING		THE EXPECTED PROGRAM WAS NOT FOUND IN THE 
			CURRENT SYSTEM.

UNEXPECTED FILE		THIS FILE WAS FOUND IN THE CURRENT SYSTEM
			BUT DID NOT APPEAR IN THE CONTRL FILE.



THIS MESSAGE ENDS WITH FOLLOWING LINE:

 ++++	END OF SEARCH.FOR MESSAGE		++++

E.	A SAMPLE LISTING OF A COMPLETE COPY OF ERRORS.LOG APPEARS IN 
APPENDIX D.

F.	THE OPERATING INSTRUCTIONS , AS WELL AS THE BATCH COMMANDS, 
ARE SET UP TO SUPPRESS THE AUTOMATIC PRINTING OF THE LOG FILES.  THESE
MAY BE PRINTED BY THE OPERATOR BY USING THE PRINT COMMAND
IF IT SHOULD APPEAR DESIREABLE TO INSPECT THEM.




III.	OPERATING INSTRUCTIONS.

THESE INSTRUCTIONS ASSUME THAT HARDWARE AND SOFTWARE 
INSTALLATION HAVE BEEN APPARENTLY SUCCESFULLY COMPLETED,
AND THAT THE VERIFICATION PACKAGE ITSELF HAS BEEN RESTORED
FROM MAGTAPE INTO A USER DIRECTORY WHICH HAS NO OTHER
FILES, AND WHICH HAS WHEEL PRIVILEGES.

	A.	LOGIN AS THE USER.


	B.	EXECUTE THE FOLLOWING COMMAND:

		DELETE *.LOG,*.YES


	C.	FOR EACH UNBUNDLED SOFTWARE PRODUCT TO BE VERIFIED
		EXECUTE A COMMAND OF THE FORM:

		COPY NAME.TXT (TO) NAME.YES

		WHERE NAME IS ONE OF:  COBOL, FORTRA, SORT, OR BASIC.

	FOR EXAMPLE:


		COPY COBOL.TXT (TO) COBOL.YES

		COPY FORTRA.TXT (TO) FORTRA.YES

		COPY SORT.TXT (TO) SORT.YES

		COPY BASIC.TXT (TO) BASIC.YES



	D.	EXECUTE THE FOLLOWING COMMAND:

		SUBMIT VERIFY.BAT/OUTPUT:NOLOG



	E.	INSPECT THE OUTPUT FILE ERRORS.LOG WHEN
		IT APPEARS ON THE PRINTER.  ANY
		ERROR MESSAGES APPEARING IN THE FILE MUST
		BE DIAGNOSED BY INSPECTING THE APPROPRIATE
		LOG FILES, AND MUST BE EITHER CORRECTED
		OR SATISFACTORILY EXPLAINED.

		OTHERS FILES TO BE INSPECTED MAY BE DONE SO
		BY MEANS OF AN EDITOR AT A TERMINAL, IF IT IS
		NOT DESIREABLE TO PRINT THE INDICATED FILES.
		THE FILES TO BE INSPECTED, AND THE APPLICABLE 
		SECTION OF THIS DOCUMENT FOLLOW:

		VERIFY.LOG		IV.2.

		VERIFY.LOG		IV.6.





IV.	SPECIAL COMMENTS.


1.	FILES PRODUCED BY VERIFY.BAT.


	A.	FILES WHICH AUTOMATICALLY GET PRINTED.
.LITERAL

	ERRORS.LOG	ALREADY DESCRIBED ABOVE
	VERIFY.LST	OUTPUT OF CREF TEST (INPUT IS VERIFY.CRF)
	VERFOR.LST	CREF OUTPUT OF FORTRAN TEST (OPTIONAL)
	VERCBL.LST	OUTPUT FROM COBOL COMPILATION WITH CREF OPTION
			 (OPTIONAL)


	B.	OTHER FILES PRODUCED BY VERIFY.BAT

	VERIFY.LOG	LOG OUTPUT OF BUNDLED SOFTWARE TEST
	VERFOR.LOG	LOG FILE FROM FORTRAN TEST (OPTIONAL)
	VERCBL.LOG	LOG FILE FROM COBOL TEST (OPTIONAL)
	VERSOR.LOG	LOG FILE FROM SORT TEST (OPTIONAL)
	VERBAS.LOG	LOG FILE FROM BASIC TEST (OPTIONAL)
	VERIF1.LOG	LOG FROM CLEANUP JOB
	VERIFY.REL	OUTPUT OF THE ASSEMBLY OF VERIFY.MAC
	VERIFY.CRF	OUTPUT OF ASSEMBLY OF VERIFY.MAC
	EDIT.EDI	CREATED DURING THE EDIT TEST
	FILCOM.TST	SHORT TEXT FILE FOR FILCOM TEST
	FILCO1.TST	COPY OF FILCOM.TST FOR FILCOM TEST
	RUNOFF.TST	SHORT TEXT FILE FOR RUNOFF TEST
	RUNOFF.MEM	OUTPUT OF RUNOFF TEST
	VERIFY.LIB	OUTPUT OF MAKLIB TEST
	VERDAT.OUT	OUTPUT OF SORT TEST (OPTIONAL)
	VERFOR.REL	OUTPUT OF FORTRAN COMPILATION (OPTIONAL)
	VERFOR.CRF	OUTPUT OF FORTRAN COMPILATION (OPTIONAL)
	VERCBL.REL	OUTPUT OF COBOL COMPILATION
	VERSOR.OUT	OUTPUT OF SORT TEST (OPTIONAL)

.END LITERAL	
2.	CHECKPOINT.BIN AND DUMP.EXE CAN ONLY BE ACCESSED 
	BY A USER HAVING WHEEL
	PRIVILEGES ENABLED.  THUS AN "ENABLE" COMMAND IS USED IN 
	THESE TESTS.  "DISABLE" OCCURS IMMEDIATLY AT THE END OF 
	EACH OF THE TESTS.

	TESTING OF MACRO, LINK, DDT, CREF, AND MAKLIB ARE DONE
	IN AN INTERCONNECTED MANNER.  A MACRO SOURCE FILE IS
	ASSEMBLED, LINKED AND LOADED.  DDT IS BROUGHT IN AND
	AFTER ACCESSING THE APPROPROIATE SYMBOL TABLE ONE
	SYMBOL IS DISPLAYED BY THE USING THE "=" COMMAND.  THE RESULT
	AND THE CORRECT ANSWER ARE DISPLAYED IN THE BATCH LOG
	FILE IN THE DDT TEST.  THEY SHOULD BE MANUALLY CHECKED.

	THE PROGRAM JUST LOADED IS THEN RUN.  IT DOES A RESET AND
	A HALTF.

	THE CREF TEST CAUSES A LISTING OF THE PROGRAM TO BE QUEUED
	TO THE PRINTER.

3.	THE EDIT TEST CAUSES THE FILE 
	EDIT.EDI TO BE CREATED.

4.	THE MAIL TEST CAUSES A MESSAGE TO BE SENT TO THE USER UNDER
	WHOSE NAME THE JOB WAS SUBMITTED.  THE MESSAGE

		[YOU HAVE A MESSAGE]

	WILL APPEAR ON THE USER'S TTY: SOMETIME DURING THE 
	EXECUTION OF THE BATCH STREAM.  THIS MESSAGE SHOULD BE IGNORED
	SINCE THE BATCH JOB IMMEDIATLY ATTEMPTS TO READ THIS SAME 
	TEST MESSAGE.

5.	THE FILCOM TEST COPIES A SIMPLE FILE AND THEN COMPARES THE 
	COPIED FILE TO THE ORIGINAL.  SINCE DISCREPANCIES WILL NOT
	CAUSE AN ERROR CONDITION DETECTABLE BY BATCH,  A SPECIAL
	MESSAGE ALREADY DESCRIBED WILL APPEAR IN ERRORS.LOG TO
	SHOW POSSIBLE DISCREPANCIES (THERE SHOULD BE NONE).  IN
	ADDITION, THE LOG FILE VERIFY.LOG MAY BE EXAMINED.  IF NO DISCREPANCIES
	HAVE BEEN FOUND, FILCOM'S MESSAGE WILL APPEAR:

		NO DIFFERENCES ENCOUNTERED

6.	THE RUNOFF TEST TAKES A TEXT FILE CONTAINING ONE WORD
	PER LINE AND JUSTIFIES ALL THE TEXT ONTO A SINGLE LINE.  
	BOTH THE INPUT AND OUTPUT FILES ARE DISPLAYED
	IN THE LOG FILE VERIFY.LOG.  THEY SHOULD BE MANUALLY
	EXAMINED.


V.	PACKAGING OF THE VERIFICATION PACKAGE.

FROM ONE RELEASE TO THE NEXT, VARIOUS CHANGES WILL HAVE TO BE
MADE TO THE VERIFICATION PACKAGE TO REFLECT CHANGES IN THE
DELIVERED SOFTWARE.  IT IS NOT POSSIBLE TO ANTICIPATE ALL SUCH 
CHANGES, SINCE NO ONE CAN SEE INTO THE FUTURE, BUT CERTAIN
CHANGES ARE ALMOST CERTAIN, AND THESE ARE DESCRIBED IN THIS
SECTION.

1.	CONTENTS OF THE BATCH CONTROL FILES.

	THE ACTUAL FILES WHICH GET VERIFIED MAY VARY FROM ONE RELEASE
	TO THE NEXT.  THE LIST OF T